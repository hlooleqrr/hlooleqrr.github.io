<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ Ù„Ù„Ø¹Ø³ÙƒØ±ÙŠÙŠÙ† - Ø³Ø±Ø¹Ø© ØªÙ…Ù„Ùƒ Ø§Ù„Ø¹Ù‚Ø§Ø±</title>
<style>
  body {
    font-family: 'Tajawal', sans-serif;
    background: #e8f5f2;
    margin: 0; padding: 0; color: #012a26;
    display: flex; justify-content: center; align-items: center; min-height: 100vh;
  }
  #app {
    background: white;
    width: 100%; max-width: 700px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
    padding: 25px 35px;
  }
  h2 {
    text-align: center;
    margin-bottom: 25px;
    color: #004d40;
  }
  .step {
    display: none;
  }
  .step.active {
    display: block;
  }
  label {
    display: block;
    margin: 18px 0 8px;
    font-weight: 700;
    font-size: 18px;
  }
  select, button {
    width: 100%;
    font-size: 18px;
    padding: 12px;
    border-radius: 7px;
    border: 1.5px solid #004d40;
    background: #f0f9f8;
    cursor: pointer;
  }
  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  .buttons {
    margin-top: 25px;
    display: flex;
    justify-content: space-between;
  }
  .buttons button {
    width: 48%;
  }
  #result {
    font-size: 22px;
    line-height: 1.5;
    color: #00695c;
    margin-top: 30px;
  }
  footer {
    margin-top: 40px;
    text-align: center;
    color: gray;
    font-size: 16px;
  }
</style>
</head>
<body>

<div id="app">

  <h2>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ Ù„Ù„Ø¹Ø³ÙƒØ±ÙŠÙŠÙ†</h2>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø±ØªØ¨Ø© -->
  <div class="step active" id="step1">
    <label for="rank">ğŸ–ï¸ Ø§Ø®ØªØ± Ø±ØªØ¨ØªÙƒ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©:</label>
    <select id="rank">
      <option value="">-- Ø§Ø®ØªØ± Ø±ØªØ¨Ø© --</option>
      <option value="Ø¬Ù†Ø¯ÙŠ">Ø¬Ù†Ø¯ÙŠ</option>
      <option value="Ø¬Ù†Ø¯ÙŠ Ø£ÙˆÙ„">Ø¬Ù†Ø¯ÙŠ Ø£ÙˆÙ„</option>
      <option value="Ø¹Ø±ÙŠÙ">Ø¹Ø±ÙŠÙ</option>
      <option value="ÙˆÙƒÙŠÙ„ Ø±Ù‚ÙŠØ¨">ÙˆÙƒÙŠÙ„ Ø±Ù‚ÙŠØ¨</option>
      <option value="Ø±Ù‚ÙŠØ¨">Ø±Ù‚ÙŠØ¨</option>
      <option value="Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„">Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„</option>
      <option value="Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡">Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡</option>
      <option value="Ù…Ù„Ø§Ø²Ù…">Ù…Ù„Ø§Ø²Ù…</option>
      <option value="Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„">Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„</option>
      <option value="Ù†Ù‚ÙŠØ¨">Ù†Ù‚ÙŠØ¨</option>
      <option value="Ø±Ø§Ø¦Ø¯">Ø±Ø§Ø¦Ø¯</option>
      <option value="Ù…Ù‚Ø¯Ù…">Ù…Ù‚Ø¯Ù…</option>
      <option value="Ø¹Ù‚ÙŠØ¯">Ø¹Ù‚ÙŠØ¯</option>
      <option value="Ø¹Ù…ÙŠØ¯">Ø¹Ù…ÙŠØ¯</option>
      <option value="Ù„ÙˆØ§Ø¡">Ù„ÙˆØ§Ø¡</option>
    </select>
  </div>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ -->
  <div class="step" id="step2">
    <label>ğŸ“… Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ (Ù‡Ø¬Ø±ÙŠ):</label>
    <select id="birthDay"></select>
    <select id="birthMonth"></select>
    <select id="birthYear"></select>
  </div>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ† -->
  <div class="step" id="step3">
    <label>ğŸ“… Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® ØªØ¹ÙŠÙŠÙ†Ùƒ (Ù‡Ø¬Ø±ÙŠ):</label>
    <select id="hireDay"></select>
    <select id="hireMonth"></select>
    <select id="hireYear"></select>
  </div>

  <!-- Ø²Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
  <div class="buttons">
    <button id="prevBtn" disabled>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
    <button id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </div>

  <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
  <div id="result" style="display: none;"></div>

</div>

<footer id="footer"></footer>

<script>
// Ù…Ù„Ø¡ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø´Ù‡ÙˆØ± ÙˆØ§Ù„Ø³Ù†ÙˆØ§Øª
function fillDateSelects(dayId, monthId, yearId, startYear, endYear) {
  const daySelect = document.getElementById(dayId);
  const monthSelect = document.getElementById(monthId);
  const yearSelect = document.getElementById(yearId);

  for(let d=1; d<=30; d++) {
    const opt = document.createElement('option');
    opt.value = d; opt.textContent = d;
    daySelect.appendChild(opt);
  }
  for(let m=1; m<=12; m++) {
    const opt = document.createElement('option');
    opt.value = m; opt.textContent = m;
    monthSelect.appendChild(opt);
  }
  for(let y=startYear; y<=endYear; y++) {
    const opt = document.createElement('option');
    opt.value = y; opt.textContent = y;
    yearSelect.appendChild(opt);
  }

  // Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
  daySelect.value = 1;
  monthSelect.value = 1;
  yearSelect.value = Math.floor((startYear+endYear)/2);
}
fillDateSelects('birthDay','birthMonth','birthYear',1370,1430);
fillDateSelects('hireDay','hireMonth','hireYear',1410,1460);

// Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ§Øª ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ†Ù‡Ù…
let currentStep = 1;
const totalSteps = 3;
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

function showStep(step) {
  for (let i = 1; i <= totalSteps; i++) {
    document.getElementById('step' + i).classList.remove('active');
  }
  document.getElementById('step' + step).classList.add('active');

  prevBtn.disabled = step === 1;
  nextBtn.textContent = step === totalSteps ? 'Ø§Ø­Ø³Ø¨' : 'Ø§Ù„ØªØ§Ù„ÙŠ';

  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ø°Ø§ Ø±Ø¬Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø®Ø·ÙˆØ©
  document.getElementById('result').style.display = 'none';

  // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·ÙˆØ§ØªØŒ Ø¥Ø®ÙØ§Ø¤Ù‡Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  prevBtn.style.display = 'inline-block';
  nextBtn.style.display = 'inline-block';
}

prevBtn.addEventListener('click', () => {
  if (currentStep > 1) {
    currentStep--;
    showStep(currentStep);
  }
});

nextBtn.addEventListener('click', () => {
  if (!validateStep(currentStep)) {
    alert('ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨');
    return;
  }
  if (currentStep < totalSteps) {
    currentStep++;
    showStep(currentStep);
  } else {
    // Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ù†Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
    calculateResult();
  }
});

// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù„ÙƒÙ„ Ø®Ø·ÙˆØ©
function validateStep(step) {
  if (step === 1) {
    return document.getElementById('rank').value !== '';
  }
  // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø®Ø·ÙˆØ§Øª ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØµØ§Ù„Ø­
  return true;
}

// ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹
function hijriToJulianDays(year, month, day) {
  return (year * 354) + ((month - 1) * 29.5) + day;
}

// Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ† Ù‡Ø¬Ø±ÙŠÙŠÙ† (Ø³Ù†Ø©ØŒØ´Ù‡Ø±ØŒÙŠÙˆÙ…) Ø¨Ø¯Ù‚Ø© Ø³Ù†ÙˆØ§ØªØŒ Ø£Ø´Ù‡Ø±ØŒ Ø£ÙŠØ§Ù…
function diffHijriDates(y1,m1,d1, y2,m2,d2) {
  const jd1 = hijriToJulianDays(y1,m1,d1);
  const jd2 = hijriToJulianDays(y2,m2,d2);
  let diffDays = Math.floor(jd2 - jd1);
  if(diffDays < 0) diffDays = 0;

  const years = Math.floor(diffDays / 354);
  diffDays -= years * 354;
  const months = Math.floor(diffDays / 29.5);
  diffDays -= months * 29.5;
  const days = Math.floor(diffDays);

  return { years, months, days };
}

// Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù… Ø¥Ù„Ù‰ Ù†Øµ Ø¹Ø±Ø¨ÙŠ (Ø¨Ø³ÙŠØ·Ø© Ù…Ø¹ ÙÙˆØ§ØµÙ„)
function numberToArabicText(num) {
  return num.toLocaleString('ar-EG');
}

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±ØªØ¨ - Ù…Ø±Ø¨ÙˆØ· Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆÙ‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ù„Ø§ÙˆØ© Ø§Ù„Ø³Ù†ÙˆÙŠØ© ÙˆØ¹Ø¯Ø¯ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø¹Ù„Ø§ÙˆØ© Ø§Ù„Ù‚ØµÙˆÙ‰ ÙˆØ³Ù† Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯
const ranksData = {
  "Ø¬Ù†Ø¯ÙŠ":        { base: 3220,  allowance: 125,  maxYears: 15, retireAge: 44 },
  "Ø¬Ù†Ø¯ÙŠ Ø£ÙˆÙ„":    { base: 3395,  allowance: 135,  maxYears: 15, retireAge: 44 },
  "Ø¹Ø±ÙŠÙ":        { base: 3765,  allowance: 150,  maxYears: 15, retireAge: 46 },
  "ÙˆÙƒÙŠÙ„ Ø±Ù‚ÙŠØ¨":   { base: 4455,  allowance: 180,  maxYears: 15, retireAge: 46 },
  "Ø±Ù‚ÙŠØ¨":        { base: 5260,  allowance: 215,  maxYears: 15, retireAge: 48 },
  "Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„":    { base: 6180,  allowance: 260,  maxYears: 15, retireAge: 50 },
  "Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡":  { base: 7215,  allowance: 310,  maxYears: 15, retireAge: 52 },
  "Ù…Ù„Ø§Ø²Ù…":       { base: 7590,  allowance: 380,  maxYears: 15, retireAge: 48 },
  "Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„":   { base: 8365,  allowance: 395,  maxYears: 15, retireAge: 50 },
  "Ù†Ù‚ÙŠØ¨":        { base: 9215,  allowance: 230,  maxYears: 15, retireAge: 52 },
  "Ø±Ø§Ø¦Ø¯":        { base: 11705, allowance: 230,  maxYears: 15, retireAge: 54 },
  "Ù…Ù‚Ø¯Ù…":        { base: 12735, allowance: 230,  maxYears: 15, retireAge: 55 },
  "Ø¹Ù‚ÙŠØ¯":        { base: 14365, allowance: 230,  maxYears: 15, retireAge: 56 },
  "Ø¹Ù…ÙŠØ¯":        { base: 16350, allowance: 210,  maxYears: 15, retireAge: 57 },
  "Ù„ÙˆØ§Ø¡":        { base: 18600, allowance: 200,  maxYears: 15, retireAge: 58 }
};

// Ø¥Ø¶Ø§ÙØ© Ø£Ø´Ù‡Ø± ÙˆØ£ÙŠØ§Ù… Ù„ØªØ§Ø±ÙŠØ® Ù‡Ø¬Ø±ÙŠ
function addHijriMonthsDays(date, months, days) {
  let y = date.y;
  let m = date.m + months;
  let d = date.d + days;
  if (d > 30) {
    d -= 30;
    m += 1;
  }
  while (m > 12) {
    m -= 12;
    y += 1;
  }
  return { y, m, d };
}

// Ø­Ø³Ø§Ø¨ Ø¹Ù…Ø± Ø§Ù„Ø´Ø®Øµ ÙÙŠ ØªØ§Ø±ÙŠØ® Ù…Ø¹ÙŠÙ† (Ù‡Ø¬Ø±ÙŠ) Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ù‡ (Ù‡Ø¬Ø±ÙŠ)
function calculateAgeAtDate(birth, atDate) {
  let ageYears = atDate.y - birth.y;
  let ageMonths = atDate.m - birth.m;
  let ageDays = atDate.d - birth.d;
  if (ageDays < 0) {
    ageDays += 30;
    ageMonths--;
  }
  if (ageMonths < 0) {
    ageMonths += 12;
    ageYears--;
  }
  return { years: ageYears, months: ageMonths, days: ageDays };
}

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ¹Ø±Ø¶Ù‡Ø§
function calculateResult() {
  const rank = document.getElementById('rank').value;
  const birth = {
    y: parseInt(document.getElementById('birthYear').value),
    m: parseInt(document.getElementById('birthMonth').value),
    d: parseInt(document.getElementById('birthDay').value)
  };
  const hire = {
    y: parseInt(document.getElementById('hireYear').value),
    m: parseInt(document.getElementById('hireMonth').value),
    d: parseInt(document.getElementById('hireDay').value)
  };

  // ØªØ­Ù‚Ù‚ Ù…Ù†Ø·Ù‚ÙŠ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
  if (hire.y < birth.y || (hire.y === birth.y && hire.m < birth.m) || (hire.y === birth.y && hire.m === birth.m && hire.d < birth.d)) {
    alert("ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù‚Ø¨Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯");
    currentStep = 3;
    showStep(currentStep);
    return;
  }

  // Ø§Ù„ÙŠÙˆÙ… Ù‡Ø¬Ø±ÙŠ ØªÙ‚Ø±ÙŠØ¨ÙŠ
  const now = new Date();
  const hijriNowY = parseInt(new Intl.DateTimeFormat('ar-SA-u-ca-islamic', { year: 'numeric' }).format(now));
  const hijriNowM = parseInt(new Intl.DateTimeFormat('ar-SA-u-ca-islamic', { month: 'numeric' }).format(now));
  const hijriNowD = parseInt(new Intl.DateTimeFormat('ar-SA-u-ca-islamic', { day: 'numeric' }).format(now));
  const today = { y: hijriNowY, m: hijriNowM, d: hijriNowD };

  // Ù…Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø­ØªÙ‰ Ø§Ù„ÙŠÙˆÙ…
  const serviceDuration = diffHijriDates(hire.y, hire.m, hire.d, today.y, today.m, today.d);
  const serviceYearsDecimal = serviceDuration.years + serviceDuration.months / 12 + serviceDuration.days / 365;

  // Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø¹Ù„Ø§ÙˆØ© (Ù…Ø­Ø¯ÙˆØ¯Ø©)
  const maxAllowanceYears = ranksData[rank].maxYears;
  const allowanceYears = Math.min(serviceDuration.years, maxAllowanceYears);

  // Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ = Ù…Ø±Ø¨ÙˆØ· Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ + Ø§Ù„Ø¹Ù„Ø§ÙˆØ§Øª
  const baseSalary = ranksData[rank].base + (allowanceYears * ranksData[rank].allowance);

  // Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ = (Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ã— Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø© Ã— 0.55) Ã· 40
  const pension = Math.round((baseSalary * serviceYearsDecimal * 0.55) / 40);

  // Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯: ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ + Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯
  const retireAge = ranksData[rank].retireAge;
  const retireDate = addHijriMonthsDays(birth, retireAge * 12, 0);

  // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆÙ‚Øª Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯
  const timeToRetire = diffHijriDates(today.y, today.m, today.d, retireDate.y, retireDate.m, retireDate.d);

  // Ø¹Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø§Ø¹Ø¯ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯
  const ageAtRetire = calculateAgeAtDate(birth, retireDate);

  // ØµÙŠØ§ØºØ© Ù†Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
  const resultText = `
    <p>ğŸ–ï¸ <strong>Ø§Ù„Ø±ØªØ¨Ø©:</strong> ${rank}</p>
    <p>ğŸ“† <strong>Ù…Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ø­ØªÙ‰ Ø§Ù„ÙŠÙˆÙ…:</strong> ${serviceDuration.years} Ø³Ù†Ø©ØŒ ${serviceDuration.months} Ø´Ù‡Ø±ØŒ Ùˆ${serviceDuration.days} ÙŠÙˆÙ…</p>
    <p>ğŸ’¼ <strong>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ (ØªÙ‚Ø¯ÙŠØ±ÙŠ):</strong> ${numberToArabicText(baseSalary)} Ø±ÙŠØ§Ù„</p>
    <p>ğŸ’° <strong>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</strong> ${numberToArabicText(pension)} Ø±ÙŠØ§Ù„</p>
    <hr>
    <p>â³ <strong>Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯:</strong> ${timeToRetire.years} Ø³Ù†Ø©ØŒ ${timeToRetire.months} Ø´Ù‡Ø±ØŒ Ùˆ${timeToRetire.days} ÙŠÙˆÙ…</p>
    <p>ğŸ“… <strong>Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</strong> ${retireDate.y} / ${retireDate.m} / ${retireDate.d} Ù‡Ù€ (Ù‡Ø¬Ø±ÙŠ)</p>
    <p>ğŸ‘´ <strong>Ø¹Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø§Ø¹Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</strong> ${ageAtRetire.years} Ø³Ù†Ø©ØŒ ${ageAtRetire.months} Ø´Ù‡Ø±ØŒ Ùˆ${ageAtRetire.days} ÙŠÙˆÙ…</p>
  `;

  const resultDiv = document.getElementById('result');
  resultDiv.innerHTML = resultText;
  resultDiv.style.display = 'block';

  // Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  prevBtn.style.display = 'none';
  nextBtn.style.display = 'none';
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØªØ± Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
function updateFooter() {
  const now = new Date();
  const miladi = now.toLocaleDateString('ar-SA', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
  const time = now.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
  const hijri = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
    day: 'numeric', month: 'long', year: 'numeric'
  }).format(now);

  document.getElementById('footer').innerHTML =
    `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${miladi} <br> ğŸ“† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ${hijri} <br> ğŸ•’ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø¢Ù†: ${time}`;
}

updateFooter();
</script>

</body>
</html>