<div class="container">
  <h2>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ (Ø§Ù„Ù…Ù…ØªØ¯)</h2>

  <!-- ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… (Ù‡Ø¬Ø±ÙŠ) -->
  <label>ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… (Ù‡Ø¬Ø±ÙŠ):</label><br>
  <input type="number" id="todayYear" placeholder="Ø§Ù„Ø³Ù†Ø©" style="width:30%;">
  <input type="number" id="todayMonth" placeholder="Ø§Ù„Ø´Ù‡Ø±" style="width:30%;">
  <input type="number" id="todayDay" placeholder="Ø§Ù„ÙŠÙˆÙ…" style="width:30%;"><br><br>

  <!-- ğŸ–ï¸ Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© -->
  <label>ğŸ–ï¸ Ø§Ø®ØªØ± Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©:</label><br>
  <select id="rank" style="width:95%;">
    <option value="Ø¬Ù†Ø¯ÙŠ">Ø¬Ù†Ø¯ÙŠ</option>
    <option value="Ø¹Ø±ÙŠÙ">Ø¹Ø±ÙŠÙ</option>
    <option value="Ø±Ù‚ÙŠØ¨">Ø±Ù‚ÙŠØ¨</option>
    <option value="Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„">Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„</option>
    <option value="Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡">Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡</option>
    <option value="Ù…Ù„Ø§Ø²Ù…">Ù…Ù„Ø§Ø²Ù…</option>
    <option value="Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„">Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„</option>
    <option value="Ù†Ù‚ÙŠØ¨">Ù†Ù‚ÙŠØ¨</option>
    <option value="Ø±Ø§Ø¦Ø¯">Ø±Ø§Ø¦Ø¯</option>
    <option value="Ù…Ù‚Ø¯Ù…">Ù…Ù‚Ø¯Ù…</option>
    <option value="Ø¹Ù‚ÙŠØ¯">Ø¹Ù‚ÙŠØ¯</option>
    <option value="Ø¹Ù…ÙŠØ¯">Ø¹Ù…ÙŠØ¯</option>
    <option value="Ù„ÙˆØ§Ø¡">Ù„ÙˆØ§Ø¡</option>
  </select><br><br>

  <!-- ğŸ“† ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ† -->
  <label>ğŸ“† ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ† (Ù‡Ø¬Ø±ÙŠ):</label><br>
  <input type="number" id="appointYear" placeholder="Ø§Ù„Ø³Ù†Ø©" style="width:30%;">
  <input type="number" id="appointMonth" placeholder="Ø§Ù„Ø´Ù‡Ø±" style="width:30%;">
  <input type="number" id="appointDay" placeholder="Ø§Ù„ÙŠÙˆÙ…" style="width:30%;"><br><br>

  <!-- ğŸ‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ -->
  <label>ğŸ‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù‡Ø¬Ø±ÙŠ):</label><br>
  <input type="number" id="birthYear" placeholder="Ø§Ù„Ø³Ù†Ø©" style="width:30%;">
  <input type="number" id="birthMonth" placeholder="Ø§Ù„Ø´Ù‡Ø±" style="width:30%;">
  <input type="number" id="birthDay" placeholder="Ø§Ù„ÙŠÙˆÙ…" style="width:30%;"><br><br>

  <!-- ğŸ’¸ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„ØµØ§ÙÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ -->
  <label>ğŸ’¼ ÙƒÙ… Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„ØµØ§ÙÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ØŸ</label><br>
  <input type="number" id="preRetirementNet" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" style="width:95%;"><br><br>

  <!-- ğŸ“ˆ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ -->
  <label>ğŸ“ˆ Ø£Ø¯Ø®Ù„ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (Ùª):</label><br>
  <input type="number" id="profitMargin" placeholder="Ù…Ø«Ø§Ù„: 4.5" style="width:95%;"><br><br>

  <button onclick="calculateRetirement()">ğŸ” Ø§Ø­Ø³Ø¨ Ø§Ù„ØªÙ…ÙˆÙŠÙ„</button>

  <div id="result" style="margin-top: 30px; font-size: 26px;"></div>
</div>

<script>
function calculateRetirement() {
  const todayY = parseInt(document.getElementById("todayYear").value);
  const birthY = parseInt(document.getElementById("birthYear").value);
  const appointY = parseInt(document.getElementById("appointYear").value);
  const rank = document.getElementById("rank").value;
  const profitMargin = parseFloat(document.getElementById("profitMargin").value);
  const preRetirementNet = parseFloat(document.getElementById("preRetirementNet").value);

  const ranks = {
    "Ø¬Ù†Ø¯ÙŠ":        { retireAge: 44, base: 3220, step: 125 },
    "Ø¹Ø±ÙŠÙ":        { retireAge: 46, base: 3765, step: 150 },
    "Ø±Ù‚ÙŠØ¨":        { retireAge: 48, base: 5260, step: 265 },
    "Ø±Ù‚ÙŠØ¨ Ø£ÙˆÙ„":    { retireAge: 50, base: 6180, step: 310 },
    "Ø±Ø¦ÙŠØ³ Ø±Ù‚Ø¨Ø§Ø¡":  { retireAge: 52, base: 7215, step: 360 },
    "Ù…Ù„Ø§Ø²Ù…":       { retireAge: 48, base: 7590, step: 380 },
    "Ù…Ù„Ø§Ø²Ù… Ø£ÙˆÙ„":   { retireAge: 50, base: 8970, step: 440 },
    "Ù†Ù‚ÙŠØ¨":        { retireAge: 52, base: 10600, step: 495 },
    "Ø±Ø§Ø¦Ø¯":        { retireAge: 54, base: 13535, step: 265 },
    "Ù…Ù‚Ø¯Ù…":        { retireAge: 56, base: 14645, step: 470 },
    "Ø¹Ù‚ÙŠØ¯":        { retireAge: 58, base: 15980, step: 510 },
    "Ø¹Ù…ÙŠØ¯":        { retireAge: 60, base: 17420, step: 555 },
    "Ù„ÙˆØ§Ø¡":        { retireAge: 60, base: 18600, step: 580 }
  };

  if (!ranks[rank] || isNaN(profitMargin)) {
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
    return;
  }

  const retireAge = ranks[rank].retireAge;
  const base = ranks[rank].base;
  const step = ranks[rank].step;

  const retireY = birthY + retireAge;
  const serviceYears = retireY - appointY;
  const baseAtRetire = base + (step * serviceYears);
  const retirementSalary = (baseAtRetire * serviceYears / 40) * 0.55;
  const monthsAvailable = (60 - retireAge) * 12;
  const years = monthsAvailable / 12;

  const totalRequested = 100000; // Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§
  const profitFactor = (years * profitMargin / 100) + 1;
  const netFinance = totalRequested / profitFactor;
  const profit = totalRequested - netFinance;

  const totalNetWithPre = isNaN(preRetirementNet) ? Math.round(netFinance) : Math.round(netFinance + preRetirementNet);

  document.getElementById("result").innerHTML =
    `<strong>ğŸ“Œ ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯:</strong> ${retireY}<br>` +
    `<strong>ğŸ“Œ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø©:</strong> ${serviceYears} Ø³Ù†Ø©<br>` +
    `<strong>ğŸ“Œ Ø§Ù„Ø±Ø§ØªØ¨ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯:</strong> ${Math.round(baseAtRetire)} Ø±ÙŠØ§Ù„<br>` +
    `<strong>ğŸ“Œ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ÙŠ:</strong> ${Math.round(retirementSalary)} Ø±ÙŠØ§Ù„<br>` +
    `<strong>ğŸ“Œ Ø¹Ø¯Ø¯ Ø£Ø´Ù‡Ø± Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯:</strong> ${monthsAvailable} Ø´Ù‡Ø±<br>` +
    `<strong>ğŸ“Œ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„ØµØ§ÙÙŠ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯:</strong> ${Math.round(netFinance)} Ø±ÙŠØ§Ù„<br>` +
    `<strong>ğŸ“Œ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„ØµØ§ÙÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ (Ø§Ù„Ù…Ø¯Ø®Ù„):</strong> ${isNaN(preRetirementNet) ? "â€”" : preRetirementNet} Ø±ÙŠØ§Ù„<br>` +
    `<strong>ğŸ“Œ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ Ù„Ù„ØªÙ…ÙˆÙŠÙ„:</strong> ${totalNetWithPre} Ø±ÙŠØ§Ù„<br>` +
    `<strong>ğŸ“Œ Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</strong> ${Math.round(profit)} Ø±ÙŠØ§Ù„`;
}
</script>