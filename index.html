<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุญุงุณุจุฉ ุงูุชูููู ุงูุนูุงุฑู ูุงูุชูุงุนุฏู</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #e0f2f1, #ffffff);
      margin: 0; padding: 0;
      min-height: 100vh; display: flex;
      flex-direction: column; align-items: center;
      color: #012a26; text-align: center;
    }
    header {
      background: #005c48; color: #fff;
      padding: 25px; font-size: 32px; width: 100%;
    }
    .container {
      background: #fff; margin: 30px auto;
      padding: 30px; border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      width: 95%; max-width: 700px;
    }
    label { font-size: 26px; color: #00695c; margin-top: 20px; display:block; }
    input, select {
      font-size: 24px; padding: 14px;
      width: 90%; max-width: 450px;
      margin: 12px auto; display: block;
      border: 2px solid #b2dfdb; border-radius: 8px;
      color: #004d40; font-weight: 600;
    }
    button {
      font-size: 26px; padding: 16px 0;
      width: 90%; max-width: 450px;
      margin: 30px auto; border:none;
      border-radius: 12px; background: #00796b;
      color: #fff; cursor: pointer;
      box-shadow: 0 6px 15px rgba(0,121,107,0.6);
    }
    button:disabled { background: #a5d6a7; cursor: default; }
    button:hover:not(:disabled) { background: #004d40; }
    #result { background: #b2dfdb; padding: 25px;
      border-radius: 12px; font-size:24px;
      color: #004d40; line-height: 1.6;
      white-space: pre-line; margin-top: 20px;
    }
    footer {
      margin-top: auto; padding: 20px;
      font-size: 18px; color: #666;
    }
  </style>
</head>
<body>
  <header>ุณุฑุนุฉ ุชููู ุงูุนูุงุฑ ูุงูุญููู ุงูุชูููููุฉ</header>
  <div class="container">
    <button id="startBtn">ุงุจุฏุฃ ุงูุญุณุจุฉ</button>
    <div id="form" style="display:none;">
      <label>ุงุฎุชุฑ ููุน ุงูุชูููู:</label>
      <select id="financeType">
        <option value="">-- ุงุฎุชุฑ --</option>
        <option value="real">ุชูููู ุนูุงุฑู</option>
        <option value="personal">ุชูููู ุดุฎุตู</option>
      </select>
      <label>ููุน ุงููุธููุฉ:</label>
      <select id="jobType">
        <option value="">-- ุงุฎุชุฑ --</option>
        <option value="military">ุนุณูุฑู</option>
        <option value="civil">ูุฏูู</option>
        <option value="private">ุฎุงุต</option>
      </select>
      <label>ุณูุฉ ุงููููุงุฏ (ูุฌุฑู):</label>
      <input type="number" id="birthYear" placeholder="ูุซุงู: 1406" min="1300" max="1450"/>
      <div id="rankSection" style="display:none;">
        <label>ุฑุชุจุชู ุงูุนุณูุฑูุฉ:</label>
        <select id="rank"><option value="">-- ุงุฎุชุฑ --</option>
          <option>ุฌูุฏู</option><option>ุฌูุฏู ุฃูู</option><option>ุนุฑูู</option><option>ูููู ุฑููุจ</option>
          <option>ุฑููุจ</option><option>ุฑููุจ ุฃูู</option><option>ุฑุฆูุณ ุฑูุจุงุก</option>
          <option>ููุงุฒู</option><option>ููุงุฒู ุฃูู</option><option>ูููุจ</option>
          <option>ุฑุงุฆุฏ</option><option>ููุฏู</option><option>ุนููุฏ</option>
          <option>ุนููุฏ</option><option>ููุงุก</option>
        </select>
      </div>
      <label>ุงูุฑุงุชุจ ุงูุตุงูู ุงูุญุงูู:</label>
      <input type="number" id="netSalary" placeholder="ูุซุงู: 10000"/>
      <label>ูุงูุด ุงูุฑุจุญ ุงูุณููู (%):</label>
      <input type="number" id="profitMargin" placeholder="ูุซุงู: 4"/>
      <button id="nextBtn" disabled>ุงูุชุงูู</button>
    </div>
    <div id="result" style="display:none;"></div>
  </div>
  <footer>
    ๐ ูุฌุฑู: <span id="hijri"></span> | ูููุงุฏู: <span id="greg"></span>
    <br>ยฉ ุณุฑุนุฉ ุชููู ุงูุนูุงุฑ ูุงูุญููู ุงูุชูููููุฉ
  </footer>
  <script>
    // ููุชุฑ ุงูุชุงุฑูุฎ
    const today = new Date();
    document.getElementById('greg').innerText = today.toLocaleDateString('ar-EG');
    document.getElementById('hijri').innerText = new Intl.DateTimeFormat('ar-SA-u-ca-islamic',{day:'numeric',month:'long',year:'numeric'}).format(today);

    // ุงูุชุนุฑูู ุจุงูุนูุงุตุฑ
    const startBtn = document.getElementById('startBtn'),
      form = document.getElementById('form'),
      financeType = document.getElementById('financeType'),
      jobType = document.getElementById('jobType'),
      birthYear = document.getElementById('birthYear'),
      rankSection = document.getElementById('rankSection'),
      rankSel = document.getElementById('rank'),
      netSalary = document.getElementById('netSalary'),
      profitMargin = document.getElementById('profitMargin'),
      nextBtn = document.getElementById('nextBtn'),
      resultDiv = document.getElementById('result');

    // ุจูุงูุงุช ุงูุชูุงุนุฏ ูุงูุฑูุชุจ ูุงูุนูุงูุงุช
    const retireAges = {'ุฌูุฏู':44,'ุฌูุฏู ุฃูู':44,'ุนุฑูู':46,'ูููู ุฑููุจ':48,'ุฑููุจ':48,
      'ุฑููุจ ุฃูู':50,'ุฑุฆูุณ ุฑูุจุงุก':52,'ููุงุฒู':48,'ููุงุฒู ุฃูู':50,
      'ูููุจ':52,'ุฑุงุฆุฏ':54,'ููุฏู':56,'ุนููุฏ':58,'ุนููุฏ':60,'ููุงุก':60};
    const salaryGrades = {
      'ุฌูุฏู':{base:3220,inc:125},'ุฌูุฏู ุฃูู':{base:3395,inc:135},
      'ุนุฑูู':{base:3715,inc:140},'ูููู ุฑููุจ':{base:4000,inc:150},
      'ุฑููุจ':{base:4370,inc:160},'ุฑููุจ ุฃูู':{base:4700,inc:165},
      'ุฑุฆูุณ ุฑูุจุงุก':{base:4950,inc:170},'ููุงุฒู':{base:8835,inc:275},
      'ููุงุฒู ุฃูู':{base:9715,inc:350},'ูููุจ':{base:11940,inc:450},
      'ุฑุงุฆุฏ':{base:14155,inc:500},'ููุฏู':{base:16400,inc:600},
      'ุนููุฏ':{base:18800,inc:700},'ุนููุฏ':{base:22000,inc:800},'ููุงุก':{base:23500,inc:900}
    };

    // ุจุฏุก ุงูุญุณุจุฉ
    startBtn.onclick = () => {
      startBtn.style.display = 'none';
      form.style.display = 'block';
      nextBtn.disabled = true;
    };

    // ุฅุธูุงุฑ ุฎุงูุฉ ุงูุฑุชุจุฉ ููุนุณูุฑููู ููุท
    jobType.onchange = () => {
      if(jobType.value==='military') rankSection.style.display='block';
      else { rankSection.style.display='none'; rankSel.value=''; }
      validate();
    };

    // ุงูุชุญูู ูู ุตุญุฉ ุงูุฅุฏุฎุงูุงุช ูุชูุนูู ุฒุฑ ุงูุชุงูู
    [financeType,jobType,birthYear,netSalary,profitMargin,rankSel].forEach(el=>{
      el.onchange = validate; el.oninput = validate;
    });
    function validate(){
      let ok = financeType.value && jobType.value && birthYear.value && netSalary.value && profitMargin.value;
      if(jobType.value==='military') ok = ok && rankSel.value;
      nextBtn.disabled = !ok;
    }

    nextBtn.onclick = () => {
      // ูุฑุงุกุฉ ุงูุจูุงูุงุช
      const fin = financeType.value,
            job = jobType.value,
            by = +birthYear.value,
            sal = +netSalary.value,
            prof = +profitMargin.value/100;
      // ุญุณุงุจ ุงููุชุจููู ุฅูู ุงูุชูุงุนุฏ ุจุงูุฃุดูุฑ
      const monthsLived = (1446 - by)*12;
      const retireMonths = (retireAges[job==='military'?rankSel.value:'civil']*12);
      const monthsLeft = retireMonths - monthsLived;
      // ุทุฑุญ ุงูุชูููู ุงูููุชุฏุ
      let extended = false;
      if((fin==='real' && job==='military' && monthsLeft<300) ||
         (fin==='personal' && monthsLeft<60)) {
        extended = confirm('ูู ุชุฑุบุจ ุจุงูุญุณุจุฉ ุนูู ุงูุชูุงุนุฏ ุงูููุชุฏุ');
      }
      // ุงุญุชุณุงุจ ุงูุฑุงุชุจ ุงูุชูุงุนุฏู
      let pension = 0;
      if(job==='military' && extended){
        // ููุชุฑุถ ุงูุฎุฏูุฉ ุจูุงุกู ุนูู ุณููุงุช ูุงููุฉ
        let serviceYears = Math.min(Math.floor(monthsLived/12),15);
        let {base,inc} = salaryGrades[rankSel.value];
        let bs = base + inc*(serviceYears-1);
        pension = bs * serviceYears/40 * 0.55;
      }
      // ุญุณุงุจ ุงูุฃูุณุงุท
      let beforeRate = (fin==='personal'?0.3333:0.55),
          afterRate  = (fin==='personal'?0.25:0.55);
      let totalMonths = extended? monthsLeft: (fin==='personal'? Math.min(monthsLeft,60) : monthsLeft);
      let beforeMonths = extended? monthsLeft : totalMonths;
      let afterMonths  = extended? totalMonths - monthsLeft: 0;
      let beforeInst = Math.round(sal * beforeRate);
      let afterInst = Math.round(pension * afterRate);
      // ุฅุฌูุงูู ุงูุชูููู ูุงูุฑุจุญ (ุชูุฑูุจู)
      let totalInst = beforeInst*beforeMonths + afterInst*afterMonths;
      let profit = Math.round(totalInst * prof);
      let net = totalInst - profit;
      // ุนุฑุถ ุงููุชูุฌุฉ
      let txt = `ูุฑุญุจุงู ููุณููุงู ูุง ${job==='military'?rankSel.value+' '+'' : ''}\n`+
                `ููุน ุงูุชูููู: ${fin==='real'?'ุนูุงุฑู':'ุดุฎุตู'}\n`+
                `ูุฏุฉ ุงูุชูููู: ${totalMonths} ุดูุฑ\n`+
                `ุงููุณุท ูุจู ุงูุชูุงุนุฏ (${beforeMonths} ุดูุฑ): ${beforeInst} ุฑูุงู\n`+
                (afterMonths?`ุงููุณุท ุจุนุฏ ุงูุชูุงุนุฏ (${afterMonths} ุดูุฑ): ${afterInst} ุฑูุงู\n`:'')+
                `\nุงูุชูููู ุงูุตุงูู: ${net.toLocaleString()} ุฑูุงู\n`+
                `ุงูุฑุจุญ: ${profit.toLocaleString()} ุฑูุงู`;
      resultDiv.innerText = txt;
      resultDiv.style.display='block';
    };
  </script>
</body>
</html>
"""
print(html_code)

ูุง ูู ุงูููุฏ ุงูููุงุฆู ุจุงููุงููุ ูุฏููุฌ ููู ุงูููุทู ุงููุชูู ุนููู:

- ูุง ูุณุฃู ุนู ุงูุฑุงุชุจ ุงูุฃุณุงุณู ุฃุจุฏูุง
- ุญุณุงุจ ุงูุชูุงุนุฏ ุชููุงุฆููุง ุญุณุจ ุงูุฑุชุจุฉ ูุชุงุฑูุฎ ุงููููุงุฏ
- ุนุฑุถ ุณุคุงู โุงูุญุณุจุฉ ุงูููุชุฏุฉโ ุญุณุจ ุงูุดุฑูุท
- ุฏุนู ุงูุชูููู ุงูุนูุงุฑู ูุงูุดุฎุตู
- ูุณุจ ุงูุงุณุชูุทุงุน ูุงูููุทู ุงูุฃุตูู ุจุฏูู ุชุบููุฑ
- ุชุตููู ุนุตุฑู ููุชูุงูู ูุน ุงูุญุงุณุจุฉ ุงูุนูุงุฑูุฉ
- ููุชุฑ ูุฌุฑู ููููุงุฏู

ุงูุณุฎู ูุงูููุง ูู ููู `index.html` ูุดุบููู ูู ุงููุชุตูุญ.  
ุฃุชููู ุฅูู ููุจู ูู ูุชุทูุจุงุชู ุจุฏูุฉ 100%!ย|oai:code-citation|